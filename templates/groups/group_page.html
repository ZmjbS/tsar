{% extends "tsar.html" %}

{% block head %}
<script type="text/javascript" src="/static/js/development-bundle/ui/jquery-ui-1.8.21.custom.js"></script>
<script type="text/javascript" src="/static/js/chosen.jquery.min.js"></script>
<link type="text/css" rel="stylesheet" href="/static/css/chosen.css" />
<style>
#all_members_list_chzn { width: 80% !important; }
.edit-interface { display: none; }
</style>
<script type="text/javascript">
$(document).ready(function(){
  $('#all-members-list').chosen();
 });
</script>
{% endblock %}

{% block page_title %}{{ group.title }}{% endblock %}

{% block content %}
<div class="full-width">
<section id="group-description">
{{ group.description }}
</section>
</div>

<div class="twothird-width">
<section id="group-members" style="position: relative">
<h2>Meðlimir
		<input type="button" class="btn pull-right btn-small" value="Sýsla" style="vertical-align: bottom;" onclick="$('.edit-interface').toggle('600');$(this).toggleClass('btn-primary');($(this).val()=='Lokið')?$(this).val('Sýsla'):$(this).val('Lokið');$('.edit-interface-checkbox').prop('disabled',!$('.edit-interface-checkbox').prop('disabled'));" />
</h2>
<table class="table-hover table-condensed table">
<thead>
<tr><th style="width: 1.1em;"><input class="edit-interface" type="checkbox"></th><th>Nafn</th><th>Sími</th><th>Tölvupóstfang</th><th>A</th><th>B</th><th>C</th><th style="width:1.1em;"></th></tr>
</thead>
<tbody>
{% for member in group.members.all %}
	<tr>
		<td><input class="edit-interface" type="checkbox" /></td>
		<td><a href="/felagi/{{ member.user.username }}">{{ member.user.first_name }} {{ member.user.last_name }}</a></td>
		<td>{% for phone in member.phone_set.all %}{% if phone.is_primary %}{{ phone.number }}{% endif %}{% endfor %}</td>
		<td>{% for email in member.email_set.all %}{% if email.is_primary %}{{ email.address }}{% endif %}{% endfor %}</td>
		<td><input class="edit-interface-checkbox" type="checkbox" checked="true" disabled="true" /></td><!-- A -->
		<td><input class="edit-interface-checkbox" type="checkbox" disabled="true" /></td><!-- B -->
		<td><input class="edit-interface-checkbox" type="checkbox" disabled="true" /></td><!-- C -->
		<td><span class="icon-remove-sign edit-interface"></span> </td><!-- C -->
	</tr>
{% endfor %}
</tbody>
</table>

<!--
<div class="controls controls-row">
	<div class="pull-right">
		<input type="button" class="btn btn-danger" value="Endursetja" />
		<input type="button" class="btn btn-primary" value="Vista" />
	</div>
-->
	<div class="input-append edit-interface" style="width: 100%">
		<select id="all-members-list" multiple data-placeholder="Nafn">
			{% for member in members %}
			<option>{{ member }}</option>
			{% endfor %}
		</select>
	<!--<input type="text" value="Nafn" />-->
		<input type="button" class="btn btn-rimary" value="Bæta við" />
	</div>
<!--
</div>
-->
	<!--<div style="position:absolute;right:.5em;top:.5em;">-->
	<!--<input type="button" class="btn btn-danger" value="Breyta skráningu" />-->
	<!--<select>
		<option selected="true" disabled="true"></option>
		<option>Eyða úr hóp</option>
		<option>Breyta hæfni</option>
	</select> -->
</section>

<section id="group-qualifications">
<h2>Hæfnir</h2>
<ol style="list-style-type:upper-alpha;">
	<li>Kassabílagerð</li>
	<li>Sérhæfð bið</li>
	<li>Frímerkjasöfnun</li>
</ol>
</section>
</div>

<div class="third-width">
<section id="recent-events">
<h2>Nýlegir viðburðir</h2>
<ul>
{% for event in recent_events_list %}
	<li><a href="/vidburdur/{{ event.id }}">{{ event.title }}</a></li>
{% endfor %}
</ul>
</section>
<section id="recent-events">
<h2>Næstu viðburðir</h2>
<ul>
{% for event in coming_events_list %}
	<li><a href="/vidburdur/{{ event.id }}">{{ event.title }}</a></li>
{% endfor %}

<!-- Er kannski betra að nota „invitation“ frekar en „event“? Sparar það eittthvað?
{% for invitation in group.groupinvitation_set.all %}
	<li><a href="/vidburdur/{{ invitation.event_role.event.id }}">{{ invitation.event_role.event.title }}</a></li>
{% endfor %}
-->
</ul>
</section>
</div>
{% endblock %}
