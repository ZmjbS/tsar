{% extends "tsar.html" %}

{% block head %}
<style>
.events_list { list-style: none; margin-left: 0.3em; }
</style>
{% endblock %}
{% load humanize %}

{% block page_title %}Hjálparsveit Skáta í Reykjavík{% endblock %}

{% block content %}
<div class="full-width" style="display:none">
<section>
<h2>Tilkynningar</h2>
<p>
... skemmtilegt.
</p>
</section>
</div>

<div class="half-width">
<section id="vidburdir">
	<span class="btn pull-right" onclick="$('#my_events').toggle();$('#all_events').toggle();$(this).toggleClass('active');"><i class="icon-user"></i></span>
	<h2>Næstu viðburðir</h2>
  <ul id="my_events" class="events_list" style="display: none;">
{% for ed in my_events_dictionaries_list %}
	<li>
		<span
			class="{% if not ed.invitedroles_dictionaries_list %}icon-circle-blank{% else %}icon-circle{% endif %} edit-icon"
			style="cursor: pointer; color: {% if not ed.invitedroles_dictionaries_list %}#ddd; cursor: default;{% else %}{% if ed.positive_response %}rgb(70, 136, 71);{% else %}{% if ed.unanswered_response %}rgb(248, 148, 6){% else %}rgb(185, 74, 72){% endif %}{% endif %}{% endif %}; margin: 0;"
			onclick="if ($(this).parent().children('.event_{{ ed.event.id }}_roles_list').is(':visible')) { $('.event_{{ ed.event.id }}_roles_list').hide() } else { $('.event_{{ ed.event.id }}_roles_list').show(); };"
		></span>

		<a href="/vidburdur/{{ ed.id }}/">{{ ed.event.title }}</a>
		<time datetime='{{ed.event.date_time_begin|date:"Y-m-d"}}'>{{ ed.event.date_time_begin|naturaltime }}</time>
			<ul style="list-style: none; margin-left: .5em; display: none;" class="event_{{ ed.event.id }}_roles_list">
	{% for ird in ed.invitedroles_dictionaries_list %}
				<li>
					<span style="">
					{% if ird.response == 'Y' %}
			<span class="icon-ok-circle" style="color: rgb(70, 136, 71); cursor: default; margin: 0;"></span>
					{% else %}
						{% if ird.response == 'N' %}
			<span class="icon-ban-circle" style="color: rgb(185, 74, 72); cursor: default; margin: 0;"></span>
						{% else %}
			<span class="icon-circle-blank" style="color: rgb(248, 148, 6); cursor: default; margin: 0;"></span>
						{% endif %}
					{% endif %}
					</span>
					{{ ird.eventrole.role }}
					<span style="float: right;">
					{% if ird.response == 'Y' %}
					<a class="respond" href="#"><span class="icon-question-sign edit-icon" style="margin: 0; color: rgb(248, 148, 6)"></span></a>
					<a class="respond" href="#"><span class="icon-remove-sign edit-icon" style="margin: 0; color: rgb(185, 74, 72)"></span></a>
					{% else %}
						{% if ird.response == 'N' %}
					<a class="respond" href="#"><span class="icon-plus-sign edit-icon" style="margin: 0; color: rgb(70, 136, 71)"></span></a>
					<a class="respond" href="#"><span class="icon-question-sign edit-icon" style="margin: 0; color: rgb(248, 148, 6)"></span></a>
						{% else %}
					<a class="respond" href="#"><span class="icon-plus-sign edit-icon" style="margin: 0; color: rgb(70, 136, 71)"></span></a>
					<a class="respond" href="#"><span class="icon-remove-sign edit-icon" style="margin: 0; color: rgb(185, 74, 72)"></span></a>
						{% endif %}
					{% endif %}
					</span>
				</li>
	{% endfor %}
			</ul>
	</li>
{% endfor %}
	</ul>
	<ul id="all_events" class="events_list">
{% for ed in all_events_dictionaries_list %}
	<li>
		<span
			class="{% if not ed.invitedroles_dictionaries_list %}icon-circle-blank{% else %}icon-circle{% endif %} edit-icon"
			style="cursor: pointer; color: {% if not ed.invitedroles_dictionaries_list %}#ddd; cursor: default;{% else %}{% if ed.positive_response %}rgb(70, 136, 71);{% else %}{% if ed.unanswered_response %}rgb(248, 148, 6){% else %}rgb(185, 74, 72){% endif %}{% endif %}{% endif %}; margin: 0;"
			onclick="if ($(this).parent().children('.event_{{ ed.event.id }}_roles_list').is(':visible')) { $('.event_{{ ed.event.id }}_roles_list').hide() } else { $('.event_{{ ed.event.id }}_roles_list').show(); };"
		></span>

		<a href="/vidburdur/{{ ed.id }}/">{{ ed.event.title }}</a> {{ ed.invitedroles_dictionaries_list|length }}
		<time datetime='{{ed.event.date_time_begin|date:"Y-m-d"}}'>{{ ed.event.date_time_begin|naturaltime }}</time>
			<ul style="list-style: none; margin-left: .5em; display: none;" class="event_{{ ed.event.id }}_roles_list">
	{% for ird in ed.invitedroles_dictionaries_list %}
				<li>
					<span style="">
					{% if ird.response == 'Y' %}
			<span class="icon-ok-circle" style="color: rgb(70, 136, 71); cursor: default; margin: 0;"></span>
					{% else %}
						{% if ird.response == 'N' %}
			<span class="icon-ban-circle" style="color: rgb(185, 74, 72); cursor: default; margin: 0;"></span>
						{% else %}
			<span class="icon-circle-blank" style="color: rgb(248, 148, 6); cursor: default; margin: 0;"></span>
						{% endif %}
					{% endif %}
					</span>
					{{ ird.eventrole.role }}
					<span style="float: right;">
					{% if ird.response == 'Y' %}
					<a class="respond" href="#"><span class="icon-question-sign edit-icon" style="margin: 0; color: rgb(248, 148, 6)"></span></a>
					<a class="respond" href="#"><span class="icon-remove-sign edit-icon" style="margin: 0; color: rgb(185, 74, 72)"></span></a>
					{% else %}
						{% if ird.response == 'N' %}
					<a class="respond" href="#"><span class="icon-plus-sign edit-icon" style="margin: 0; color: rgb(70, 136, 71)"></span></a>
					<a class="respond" href="#"><span class="icon-question-sign edit-icon" style="margin: 0; color: rgb(248, 148, 6)"></span></a>
						{% else %}
					<a class="respond" href="#"><span class="icon-plus-sign edit-icon" style="margin: 0; color: rgb(70, 136, 71)"></span></a>
					<a class="respond" href="#"><span class="icon-remove-sign edit-icon" style="margin: 0; color: rgb(185, 74, 72)"></span></a>
						{% endif %}
					{% endif %}
					</span>
				</li>
	{% endfor %}
			</ul>
	</li>
{% endfor %}
	</ul>
<!--
<ul>
	<hr />
{% for event in events_list %}
{# for event, invited in invited.items #}
	<li>
		<span style="">
		{% if invited %}<a class="respond" href="#">{% endif %}<span class="icon-plus-sign edit-icon" style="margin: 0; color: {% if invited %}rgb(70, 136, 71){%else%}#ddd{%endif%}"></span></a>
		{% if invited %}<a class="respond" href="#">{% endif %}<span class="icon-remove-sign edit-icon" style="margin: 0; color: {% if invited %}rgb(185, 74, 72){%else%}#ddd{%endif%}"></span></a>
		</span>
		<a href="/vidburdur/{{ event.id }}/">{{ event.title }}</a>
		<time datetime='{{event.date_time_begin|date:"Y-m-d"}}'>{{ event.date_time_begin|naturaltime }}</time>
	{% for eventrole in event.invitedroles %}
			hi
	{% endfor %}
	</li>
{% endfor %}
	</ul>
-->
</section>
</div>

<div class="half-width">
<section>
<h2>Hæfni í boði</h2>
<!--Hæfnir sem eru í boði (næstu skref/námskeið í boði?).-->
<ul>
<li>Frímerkjasöfnun 2</li>
<li>Kassabílagerð 3 [<time datetime='2011-02-13'>2011.02.31</time>]</li>
</ul>
<h2>Endurnýjun</h2>
<ul>
<li>Sérhæfð bið (rennur út <time datetime='2028-03-09'>eftir 3 mánuði</time>)</li>
</ul>
</section>

<section>
  <h2>Fréttir</h2>
	<a href="http://www.hssr.is">HSSR</a>
	<ul>
{% for entry in hssr_entries %}
	<li><a href="{{ entry.link }}">{{ entry.title }}</a> <time datetime='{{entry.published|date:"Y-m-d"}}'>{{ entry.published }}</time></li>
{% endfor %}
	</ul>

	<a href="http://landsbjorg.is/">Landsbjörg</a>
	<ul>
<!-- Skoða: http://justquick.github.com/django-native-tags/contrib/feeds.html -->
{% for entry in sl_entries %}
	<li><a href="{{ entry.link }}">{{ entry.title }}</a> <time datetime='{{entry.published|date:"Y-m-d"}}'>{{ entry.published }}</time></li>
{% endfor %}
	</ul>
<!-- Skoða: http://www.b-list.org/weblog/2007/dec/09/updates/ -->
</section>
</div>

{% endblock %}

{% block datetimestamp %}<time datetime="2013-05-03">3. maí 2013.</time>{% endblock %}
